# ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏Ç‡∏≠‡∏á KV Limit ‡∏ï‡πà‡∏≠ Mobile App

## ‚ùå ‡πÄ‡∏°‡∏∑‡πà‡∏≠ KV Limit ‡πÄ‡∏Å‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß

### 1. **Mobile App Sync ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ** ‚ùå
- **Endpoint**: `POST /api/mobile-sync`
- **‡∏õ‡∏±‡∏ç‡∏´‡∏≤**: ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô KV (put) ‚Üí ‡πÄ‡∏Å‡∏¥‡∏ô limit ‚Üí return error 429
- **‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå**: Mobile app ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ sync ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏°‡∏≤‡πÑ‡∏î‡πâ

### 2. **Frontend Trigger ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ** ‚ùå
- **Endpoint**: `POST /api/trigger-check`
- **‡∏õ‡∏±‡∏ç‡∏´‡∏≤**: ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô KV (put) ‚Üí ‡πÄ‡∏Å‡∏¥‡∏ô limit ‚Üí return error 429
- **‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå**: Frontend ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ mobile app ‡πÄ‡∏ä‡πá‡∏Ñ‡πÑ‡∏î‡πâ

### 3. **Domain Sync ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ** ‚ùå
- **Endpoint**: `POST /api/mobile-sync/domains`
- **‡∏õ‡∏±‡∏ç‡∏´‡∏≤**: ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô KV (put) ‚Üí ‡πÄ‡∏Å‡∏¥‡∏ô limit ‚Üí return error 429
- **‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå**: Frontend ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ sync domains list ‡πÑ‡∏õ‡πÉ‡∏´‡πâ mobile app ‡πÑ‡∏î‡πâ

---

## ‚úÖ ‡∏¢‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ

### 1. **Mobile App ‡∏î‡∏∂‡∏á Domains ‡πÑ‡∏î‡πâ** ‚úÖ
- **Endpoint**: `GET /api/mobile-sync/domains`
- **‡πÉ‡∏ä‡πâ**: KV.get() (‡∏≠‡πà‡∏≤‡∏ô) ‚Üí limit 100,000 reads/day
- **‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå**: Mobile app ‡∏¢‡∏±‡∏á‡∏î‡∏∂‡∏á domains list ‡πÑ‡∏î‡πâ

### 2. **Frontend ‡∏î‡∏∂‡∏á Results ‡πÑ‡∏î‡πâ** ‚úÖ
- **Endpoint**: `GET /api/results`
- **‡πÉ‡∏ä‡πâ**: KV.get() (‡∏≠‡πà‡∏≤‡∏ô) ‚Üí limit 100,000 reads/day
- **‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå**: Frontend ‡∏¢‡∏±‡∏á‡∏î‡∏∂‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÄ‡∏Å‡πà‡∏≤‡πÑ‡∏î‡πâ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏¢‡∏π‡πà)

---

## üìä ‡∏™‡∏£‡∏∏‡∏õ

| Operation | KV Operation | ‡πÄ‡∏°‡∏∑‡πà‡∏≠ Limit ‡πÄ‡∏Å‡∏¥‡∏ô | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ |
|-----------|--------------|------------------|-------|
| **Mobile App Sync** | PUT (‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô) | ‚ùå ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ | **‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ** |
| **Frontend Trigger** | PUT (‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô) | ‚ùå ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ | **‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ** |
| **Domain Sync** | PUT (‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô) | ‚ùå ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ | **‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ** |
| **Get Domains** | GET (‡∏≠‡πà‡∏≤‡∏ô) | ‚úÖ ‡πÑ‡∏î‡πâ | **‡∏¢‡∏±‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ** |
| **Get Results** | GET (‡∏≠‡πà‡∏≤‡∏ô) | ‚úÖ ‡πÑ‡∏î‡πâ | **‡∏¢‡∏±‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ** |

---

## üîç ‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏±‡πâ‡∏ô‡πÜ

### ‚ùå **‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ** (‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô KV):
- Mobile app sync ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏°‡∏≤
- Frontend trigger mobile app
- Frontend sync domains list

### ‚úÖ **‡∏¢‡∏±‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ** (‡∏≠‡πà‡∏≤‡∏ô KV):
- Mobile app ‡∏î‡∏∂‡∏á domains list
- Frontend ‡∏î‡∏∂‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÄ‡∏Å‡πà‡∏≤

---

## üí° ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

### Option 1: ‡∏£‡∏≠‡πÉ‡∏´‡πâ Reset (‡∏ü‡∏£‡∏µ)
- KV limits ‡∏à‡∏∞ reset ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô (‡∏ï‡∏≤‡∏° UTC time)
- ‡∏£‡∏≠‡πÉ‡∏´‡πâ reset ‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠

### Option 2: Upgrade ‡πÄ‡∏õ‡πá‡∏ô Paid Plan
- ‡∏£‡∏≤‡∏Ñ‡∏≤: $5/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
- KV writes: Unlimited
- ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ limit ‡∏≠‡∏µ‡∏Å‡∏ï‡πà‡∏≠‡πÑ‡∏õ

### Option 3: ‡∏•‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
- ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡πÉ‡∏ô‡∏Å‡∏≤‡∏£ sync (‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏õ‡πá‡∏ô 6-8 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á)
- ‡πÉ‡∏ä‡πâ optimization ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß (‡∏•‡∏î KV writes 70-90%)

---

## ‚ö†Ô∏è ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏

- **‡πÄ‡∏°‡∏∑‡πà‡∏≠ KV limit ‡πÄ‡∏Å‡∏¥‡∏ô**: Mobile app ‡πÅ‡∏•‡∏∞ Frontend ‡∏à‡∏∞ **‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£ sync/trigger
- **‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ**: Mobile app ‡∏¢‡∏±‡∏á‡∏î‡∏∂‡∏á domains ‡πÑ‡∏î‡πâ, Frontend ‡∏¢‡∏±‡∏á‡∏î‡∏∂‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÄ‡∏Å‡πà‡∏≤‡πÑ‡∏î‡πâ
- **‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠ reset ‡∏´‡∏£‡∏∑‡∏≠ upgrade**: ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á


# üìã ‡∏™‡∏£‡∏∏‡∏õ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡∏•‡∏≠‡∏á‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

## üéØ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢

‡πÄ‡∏ä‡πá‡∏Ñ‡∏Å‡∏≤‡∏£‡∏ö‡∏•‡πá‡∏≠‡∏Å domain ‡∏à‡∏≤‡∏Å ISP ‡πÑ‡∏ó‡∏¢ (AIS, TRUE, DTAC, NT) ‡πÉ‡∏´‡πâ‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥

---

## üîÑ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡∏•‡∏≠‡∏á‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß (‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤)

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: DNS-over-HTTPS (DoH) - Google ‚úÖ ‡∏•‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß ‚ùå ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥

**‡∏ß‡∏¥‡∏ò‡∏µ:**

- ‡πÉ‡∏ä‡πâ Google DoH (`https://dns.google/resolve`)
- ‡πÄ‡∏ä‡πá‡∏Ñ‡∏à‡∏≤‡∏Å Next.js Edge Runtime

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

- ‚ùå ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ - ‡πÄ‡∏ä‡πá‡∏Ñ‡∏à‡∏≤‡∏Å Google DNS ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà ISP DNS ‡∏à‡∏£‡∏¥‡∏á
- ‚ùå ‡πÅ‡∏™‡∏î‡∏á ACTIVE ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏°‡πâ domain ‡∏ñ‡∏π‡∏Å‡∏ö‡∏•‡πá‡∏≠‡∏Å‡∏ö‡∏ô ISP

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:**

- ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏ä‡πá‡∏Ñ‡∏à‡∏≤‡∏Å ISP DNS servers ‡∏à‡∏£‡∏¥‡∏á‡πÜ
- Google DNS ‡πÑ‡∏°‡πà‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏•‡πá‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á ISP ‡πÑ‡∏ó‡∏¢

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: UDP DNS Query ‡∏à‡∏≤‡∏Å Railway (External IP) ‚úÖ ‡∏•‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß ‚ö†Ô∏è ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥

**‡∏ß‡∏¥‡∏ò‡∏µ:**

- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å Edge Runtime ‚Üí Node.js Runtime
- ‡πÉ‡∏ä‡πâ `dgram` + `dns-packet` ‡πÄ‡∏û‡∏∑‡πà‡∏≠ query ISP DNS servers ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
- Query ‡∏à‡∏≤‡∏Å Railway (external IP)

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

- ‚ö†Ô∏è ISP DNS servers (AIS, DTAC, NT) timeout
- ‚ö†Ô∏è ‡πÅ‡∏™‡∏î‡∏á ERROR ‡∏´‡∏£‡∏∑‡∏≠ BLOCKED ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏°‡πâ domain ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:**

- ISP DNS servers ‡πÑ‡∏°‡πà‡∏ï‡∏≠‡∏ö external queries
- ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏¢‡∏Å‡πÅ‡∏¢‡∏∞ "blocked" vs "DNS server restriction"

**Code:**

```typescript
// app/api/check/route.ts
// ‡πÉ‡∏ä‡πâ dgram + dns-packet ‡πÄ‡∏û‡∏∑‡πà‡∏≠ query ISP DNS servers
const socket = dgram.createSocket('udp4');
socket.send(query, 53, dnsServer, ...);
```

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 3: HTTP Fallback Check ‚úÖ ‡∏•‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß ‚ùå ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ (‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß)

**‡∏ß‡∏¥‡∏ò‡∏µ:**

- ‡πÄ‡∏°‡∏∑‡πà‡∏≠ DNS timeout ‚Üí ‡πÄ‡∏ä‡πá‡∏Ñ HTTP access
- ‡∏ñ‡πâ‡∏≤ HTTP ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ ‚Üí ‡πÅ‡∏™‡∏î‡∏á ACTIVE

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

- ‚ùå ‡πÅ‡∏™‡∏î‡∏á ACTIVE ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (false positive)
- Domain ‡∏≠‡∏≤‡∏à‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å external IP ‡πÅ‡∏ï‡πà‡∏ñ‡∏π‡∏Å‡∏ö‡∏•‡πá‡∏≠‡∏Å‡∏ö‡∏ô ISP network

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:**

- HTTP check ‡∏à‡∏≤‡∏Å external IP ‡πÑ‡∏°‡πà‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏•‡πá‡∏≠‡∏Å‡∏à‡∏£‡∏¥‡∏á
- ‡πÉ‡∏´‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ú‡∏¥‡∏î (‡πÅ‡∏™‡∏î‡∏á ACTIVE ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î)

**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:** ‚ùå ‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß (commit: `bf2d72b`)

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 4: Treat Timeout as BLOCKED ‚úÖ ‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô ‚ö†Ô∏è ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ 100%

**‡∏ß‡∏¥‡∏ò‡∏µ:**

- ‡πÄ‡∏°‡∏∑‡πà‡∏≠ DNS timeout ‚Üí ‡πÅ‡∏™‡∏î‡∏á BLOCKED
- ‡πÄ‡∏û‡∏¥‡πà‡∏° note ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

- ‚ö†Ô∏è ‡πÅ‡∏™‡∏î‡∏á BLOCKED ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠ timeout
- ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏¢‡∏Å‡πÅ‡∏¢‡∏∞ "blocked" vs "DNS server restriction"

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:**

- ‡∏≠‡∏≤‡∏à‡πÅ‡∏™‡∏î‡∏á BLOCKED ‡πÅ‡∏°‡πâ domain ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á (‡∏ñ‡πâ‡∏≤ DNS server ‡πÑ‡∏°‡πà‡∏ï‡∏≠‡∏ö external queries)

**Code:**

```typescript
// app/api/check/route.ts (‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô)
if (isTimeout && isp_name !== 'Global (Google)') {
  return NextResponse.json({
    status: 'BLOCKED',
    note: '‚ö†Ô∏è ISP DNS server did not respond...'
  });
}
```

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 5: DNS Resolver Service ‡∏ö‡∏ô VPS (Singapore) üìù ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ß‡πâ ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡∏≠‡∏á

**‡∏ß‡∏¥‡∏ò‡∏µ:**

- Deploy `dns-resolver-service.js` ‡∏ö‡∏ô VPS ‡πÉ‡∏ô Singapore
- Railway ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å VPS ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ä‡πá‡∏Ñ DNS

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á:**

- ‚úÖ ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ External IP (Railway) ‡∏°‡∏≤‡∏Å
- ‚ö†Ô∏è ‡∏≠‡∏≤‡∏à‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ 100% (VPS ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢ ISP ‡πÑ‡∏ó‡∏¢)

**‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î:**

- VPS ‡πÉ‡∏ô Singapore ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢ ISP ‡πÑ‡∏ó‡∏¢
- ISP DNS servers ‡∏≠‡∏≤‡∏à‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ï‡∏≠‡∏ö queries ‡∏à‡∏≤‡∏Å VPS

**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:** üìù ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡πâ‡∏ß (`dns-resolver-service.js`, `VPS_SETUP_GUIDE.md`)

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 6: VPS ‡∏ö‡∏ô ISP Network (‡πÑ‡∏ó‡∏¢) üí° ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡∏≠‡∏á

**‡∏ß‡∏¥‡∏ò‡∏µ:**

- Deploy DNS Resolver Service ‡∏ö‡∏ô VPS ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢ ISP ‡πÑ‡∏ó‡∏¢
- VPS AIS ‚Üí ‡πÄ‡∏ä‡πá‡∏Ñ AIS
- VPS DTAC ‚Üí ‡πÄ‡∏ä‡πá‡∏Ñ DTAC
- VPS TRUE ‚Üí ‡πÄ‡∏ä‡πá‡∏Ñ TRUE
- VPS NT ‚Üí ‡πÄ‡∏ä‡πá‡∏Ñ NT

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á:**

- ‚úÖ ‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ 100%

**‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢:**

- Cost ‡∏™‡∏π‡∏á (~$10-24/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô)
- ‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏≤ VPS provider ‡∏ó‡∏µ‡πà‡∏°‡∏µ datacenter ‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢

**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:** üí° ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡∏≠‡∏á

---

## üìä ‡∏™‡∏£‡∏∏‡∏õ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö

| ‡∏ß‡∏¥‡∏ò‡∏µ | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ | ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ | Cost | ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå |
|------|-------|------------|------|---------|
| **1. Google DoH** | ‚ùå ‡∏•‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß | 0% | ‡∏ü‡∏£‡∏µ | ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ |
| **2. UDP ‡∏à‡∏≤‡∏Å Railway** | ‚ö†Ô∏è ‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà | 30-50% | ‡∏ü‡∏£‡∏µ | Timeout ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î |
| **3. HTTP Fallback** | ‚ùå ‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß | 0% | ‡∏ü‡∏£‡∏µ | False positive |
| **4. Timeout = BLOCKED** | ‚ö†Ô∏è ‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà | 30-50% | ‡∏ü‡∏£‡∏µ | BLOCKED ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î |
| **5. VPS Singapore** | üìù ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ß‡πâ | 70-90% | $2.50-6/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô | ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡∏≠‡∏á |
| **6. VPS ISP ‡πÑ‡∏ó‡∏¢** | üí° ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ | 100% | $10-24/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô | ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡∏≠‡∏á |

---

## üéØ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà (Production)

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 4: Treat Timeout as BLOCKED**

- ‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô Railway
- ‡πÅ‡∏™‡∏î‡∏á BLOCKED ‡πÄ‡∏°‡∏∑‡πà‡∏≠ DNS timeout
- ‡∏°‡∏µ note ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

- AIS: BLOCKED (timeout)
- DTAC: BLOCKED (timeout)
- NT: BLOCKED (timeout)
- TRUE: ACTIVE (‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏î‡πâ)

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:**

- ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ - ‡∏≠‡∏≤‡∏à‡πÅ‡∏™‡∏î‡∏á BLOCKED ‡πÅ‡∏°‡πâ domain ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á

---

## üöÄ Next Steps

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

1. **‡∏•‡∏≠‡∏á‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 5: VPS Singapore**
   - Deploy `dns-resolver-service.js` ‡∏ö‡∏ô VPS
   - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥
   - Cost ‡∏ï‡πà‡∏≥ ($2.50-6/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô)

2. **‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏û‡∏≠ ‚Üí ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 6: VPS ISP ‡πÑ‡∏ó‡∏¢**
   - ‡∏´‡∏≤ VPS provider ‡∏ó‡∏µ‡πà‡∏°‡∏µ datacenter ‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢
   - Deploy ‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏° ISP
   - Cost ‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô (~$10-24/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô)

---

## üìù ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á

- `app/api/check/route.ts` - API endpoint ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
- `dns-resolver-service.js` - Service ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö VPS
- `VPS_SETUP_GUIDE.md` - ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ VPS
- `DNS_ACCURACY_EXPLANATION.md` - ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥
- `DNS_CHECKING_LIMITATIONS.md` - ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î

---

## üí° ‡∏™‡∏£‡∏∏‡∏õ

**‡∏•‡∏≠‡∏á‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß:**

1. ‚úÖ Google DoH - ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥
2. ‚úÖ UDP ‡∏à‡∏≤‡∏Å Railway - ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ (timeout)
3. ‚úÖ HTTP Fallback - ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ (‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß)
4. ‚ö†Ô∏è Timeout = BLOCKED - ‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà (‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ 100%)

**‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡∏≠‡∏á:**
5. üìù VPS Singapore - ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡πâ‡∏ß
6. üí° VPS ISP ‡πÑ‡∏ó‡∏¢ - ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ 100%

## üéØ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢

‡πÄ‡∏ä‡πá‡∏Ñ‡∏Å‡∏≤‡∏£‡∏ö‡∏•‡πá‡∏≠‡∏Å domain ‡∏à‡∏≤‡∏Å ISP ‡πÑ‡∏ó‡∏¢ (AIS, TRUE, DTAC, NT) ‡πÉ‡∏´‡πâ‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥

---

## üîÑ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡∏•‡∏≠‡∏á‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß (‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤)

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: DNS-over-HTTPS (DoH) - Google ‚úÖ ‡∏•‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß ‚ùå ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥

**‡∏ß‡∏¥‡∏ò‡∏µ:**

- ‡πÉ‡∏ä‡πâ Google DoH (`https://dns.google/resolve`)
- ‡πÄ‡∏ä‡πá‡∏Ñ‡∏à‡∏≤‡∏Å Next.js Edge Runtime

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

- ‚ùå ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ - ‡πÄ‡∏ä‡πá‡∏Ñ‡∏à‡∏≤‡∏Å Google DNS ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà ISP DNS ‡∏à‡∏£‡∏¥‡∏á
- ‚ùå ‡πÅ‡∏™‡∏î‡∏á ACTIVE ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏°‡πâ domain ‡∏ñ‡∏π‡∏Å‡∏ö‡∏•‡πá‡∏≠‡∏Å‡∏ö‡∏ô ISP

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:**

- ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏ä‡πá‡∏Ñ‡∏à‡∏≤‡∏Å ISP DNS servers ‡∏à‡∏£‡∏¥‡∏á‡πÜ
- Google DNS ‡πÑ‡∏°‡πà‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏•‡πá‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á ISP ‡πÑ‡∏ó‡∏¢

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: UDP DNS Query ‡∏à‡∏≤‡∏Å Railway (External IP) ‚úÖ ‡∏•‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß ‚ö†Ô∏è ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥

**‡∏ß‡∏¥‡∏ò‡∏µ:**

- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å Edge Runtime ‚Üí Node.js Runtime
- ‡πÉ‡∏ä‡πâ `dgram` + `dns-packet` ‡πÄ‡∏û‡∏∑‡πà‡∏≠ query ISP DNS servers ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
- Query ‡∏à‡∏≤‡∏Å Railway (external IP)

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

- ‚ö†Ô∏è ISP DNS servers (AIS, DTAC, NT) timeout
- ‚ö†Ô∏è ‡πÅ‡∏™‡∏î‡∏á ERROR ‡∏´‡∏£‡∏∑‡∏≠ BLOCKED ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏°‡πâ domain ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:**

- ISP DNS servers ‡πÑ‡∏°‡πà‡∏ï‡∏≠‡∏ö external queries
- ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏¢‡∏Å‡πÅ‡∏¢‡∏∞ "blocked" vs "DNS server restriction"

**Code:**

```typescript
// app/api/check/route.ts
// ‡πÉ‡∏ä‡πâ dgram + dns-packet ‡πÄ‡∏û‡∏∑‡πà‡∏≠ query ISP DNS servers
const socket = dgram.createSocket('udp4');
socket.send(query, 53, dnsServer, ...);
```

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 3: HTTP Fallback Check ‚úÖ ‡∏•‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß ‚ùå ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ (‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß)

**‡∏ß‡∏¥‡∏ò‡∏µ:**

- ‡πÄ‡∏°‡∏∑‡πà‡∏≠ DNS timeout ‚Üí ‡πÄ‡∏ä‡πá‡∏Ñ HTTP access
- ‡∏ñ‡πâ‡∏≤ HTTP ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ ‚Üí ‡πÅ‡∏™‡∏î‡∏á ACTIVE

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

- ‚ùå ‡πÅ‡∏™‡∏î‡∏á ACTIVE ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (false positive)
- Domain ‡∏≠‡∏≤‡∏à‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å external IP ‡πÅ‡∏ï‡πà‡∏ñ‡∏π‡∏Å‡∏ö‡∏•‡πá‡∏≠‡∏Å‡∏ö‡∏ô ISP network

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:**

- HTTP check ‡∏à‡∏≤‡∏Å external IP ‡πÑ‡∏°‡πà‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏•‡πá‡∏≠‡∏Å‡∏à‡∏£‡∏¥‡∏á
- ‡πÉ‡∏´‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ú‡∏¥‡∏î (‡πÅ‡∏™‡∏î‡∏á ACTIVE ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î)

**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:** ‚ùå ‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß (commit: `bf2d72b`)

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 4: Treat Timeout as BLOCKED ‚úÖ ‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô ‚ö†Ô∏è ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ 100%

**‡∏ß‡∏¥‡∏ò‡∏µ:**

- ‡πÄ‡∏°‡∏∑‡πà‡∏≠ DNS timeout ‚Üí ‡πÅ‡∏™‡∏î‡∏á BLOCKED
- ‡πÄ‡∏û‡∏¥‡πà‡∏° note ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

- ‚ö†Ô∏è ‡πÅ‡∏™‡∏î‡∏á BLOCKED ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠ timeout
- ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏¢‡∏Å‡πÅ‡∏¢‡∏∞ "blocked" vs "DNS server restriction"

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:**

- ‡∏≠‡∏≤‡∏à‡πÅ‡∏™‡∏î‡∏á BLOCKED ‡πÅ‡∏°‡πâ domain ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á (‡∏ñ‡πâ‡∏≤ DNS server ‡πÑ‡∏°‡πà‡∏ï‡∏≠‡∏ö external queries)

**Code:**

```typescript
// app/api/check/route.ts (‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô)
if (isTimeout && isp_name !== 'Global (Google)') {
  return NextResponse.json({
    status: 'BLOCKED',
    note: '‚ö†Ô∏è ISP DNS server did not respond...'
  });
}
```

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 5: DNS Resolver Service ‡∏ö‡∏ô VPS (Singapore) üìù ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ß‡πâ ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡∏≠‡∏á

**‡∏ß‡∏¥‡∏ò‡∏µ:**

- Deploy `dns-resolver-service.js` ‡∏ö‡∏ô VPS ‡πÉ‡∏ô Singapore
- Railway ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å VPS ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ä‡πá‡∏Ñ DNS

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á:**

- ‚úÖ ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ External IP (Railway) ‡∏°‡∏≤‡∏Å
- ‚ö†Ô∏è ‡∏≠‡∏≤‡∏à‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ 100% (VPS ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢ ISP ‡πÑ‡∏ó‡∏¢)

**‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î:**

- VPS ‡πÉ‡∏ô Singapore ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢ ISP ‡πÑ‡∏ó‡∏¢
- ISP DNS servers ‡∏≠‡∏≤‡∏à‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ï‡∏≠‡∏ö queries ‡∏à‡∏≤‡∏Å VPS

**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:** üìù ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡πâ‡∏ß (`dns-resolver-service.js`, `VPS_SETUP_GUIDE.md`)

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 6: VPS ‡∏ö‡∏ô ISP Network (‡πÑ‡∏ó‡∏¢) üí° ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡∏≠‡∏á

**‡∏ß‡∏¥‡∏ò‡∏µ:**

- Deploy DNS Resolver Service ‡∏ö‡∏ô VPS ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢ ISP ‡πÑ‡∏ó‡∏¢
- VPS AIS ‚Üí ‡πÄ‡∏ä‡πá‡∏Ñ AIS
- VPS DTAC ‚Üí ‡πÄ‡∏ä‡πá‡∏Ñ DTAC
- VPS TRUE ‚Üí ‡πÄ‡∏ä‡πá‡∏Ñ TRUE
- VPS NT ‚Üí ‡πÄ‡∏ä‡πá‡∏Ñ NT

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á:**

- ‚úÖ ‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ 100%

**‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢:**

- Cost ‡∏™‡∏π‡∏á (~$10-24/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô)
- ‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏≤ VPS provider ‡∏ó‡∏µ‡πà‡∏°‡∏µ datacenter ‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢

**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:** üí° ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡∏≠‡∏á

---

## üìä ‡∏™‡∏£‡∏∏‡∏õ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö

| ‡∏ß‡∏¥‡∏ò‡∏µ | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ | ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ | Cost | ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå |
|------|-------|------------|------|---------|
| **1. Google DoH** | ‚ùå ‡∏•‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß | 0% | ‡∏ü‡∏£‡∏µ | ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ |
| **2. UDP ‡∏à‡∏≤‡∏Å Railway** | ‚ö†Ô∏è ‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà | 30-50% | ‡∏ü‡∏£‡∏µ | Timeout ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î |
| **3. HTTP Fallback** | ‚ùå ‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß | 0% | ‡∏ü‡∏£‡∏µ | False positive |
| **4. Timeout = BLOCKED** | ‚ö†Ô∏è ‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà | 30-50% | ‡∏ü‡∏£‡∏µ | BLOCKED ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î |
| **5. VPS Singapore** | üìù ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ß‡πâ | 70-90% | $2.50-6/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô | ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡∏≠‡∏á |
| **6. VPS ISP ‡πÑ‡∏ó‡∏¢** | üí° ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ | 100% | $10-24/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô | ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡∏≠‡∏á |

---

## üéØ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà (Production)

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 4: Treat Timeout as BLOCKED**

- ‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô Railway
- ‡πÅ‡∏™‡∏î‡∏á BLOCKED ‡πÄ‡∏°‡∏∑‡πà‡∏≠ DNS timeout
- ‡∏°‡∏µ note ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

- AIS: BLOCKED (timeout)
- DTAC: BLOCKED (timeout)
- NT: BLOCKED (timeout)
- TRUE: ACTIVE (‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏î‡πâ)

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:**

- ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ - ‡∏≠‡∏≤‡∏à‡πÅ‡∏™‡∏î‡∏á BLOCKED ‡πÅ‡∏°‡πâ domain ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á

---

## üöÄ Next Steps

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

1. **‡∏•‡∏≠‡∏á‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 5: VPS Singapore**
   - Deploy `dns-resolver-service.js` ‡∏ö‡∏ô VPS
   - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥
   - Cost ‡∏ï‡πà‡∏≥ ($2.50-6/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô)

2. **‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏û‡∏≠ ‚Üí ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 6: VPS ISP ‡πÑ‡∏ó‡∏¢**
   - ‡∏´‡∏≤ VPS provider ‡∏ó‡∏µ‡πà‡∏°‡∏µ datacenter ‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢
   - Deploy ‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏° ISP
   - Cost ‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô (~$10-24/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô)

---

## üìù ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á

- `app/api/check/route.ts` - API endpoint ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
- `dns-resolver-service.js` - Service ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö VPS
- `VPS_SETUP_GUIDE.md` - ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ VPS
- `DNS_ACCURACY_EXPLANATION.md` - ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥
- `DNS_CHECKING_LIMITATIONS.md` - ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î

---

## üí° ‡∏™‡∏£‡∏∏‡∏õ

**‡∏•‡∏≠‡∏á‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß:**

1. ‚úÖ Google DoH - ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥
2. ‚úÖ UDP ‡∏à‡∏≤‡∏Å Railway - ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ (timeout)
3. ‚úÖ HTTP Fallback - ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ (‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß)
4. ‚ö†Ô∏è Timeout = BLOCKED - ‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà (‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ 100%)

**‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡∏≠‡∏á:**
5. üìù VPS Singapore - ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡πâ‡∏ß
6. üí° VPS ISP ‡πÑ‡∏ó‡∏¢ - ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ 100%

## üéØ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢

‡πÄ‡∏ä‡πá‡∏Ñ‡∏Å‡∏≤‡∏£‡∏ö‡∏•‡πá‡∏≠‡∏Å domain ‡∏à‡∏≤‡∏Å ISP ‡πÑ‡∏ó‡∏¢ (AIS, TRUE, DTAC, NT) ‡πÉ‡∏´‡πâ‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥

---

## üîÑ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡∏•‡∏≠‡∏á‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß (‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤)

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: DNS-over-HTTPS (DoH) - Google ‚úÖ ‡∏•‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß ‚ùå ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥

**‡∏ß‡∏¥‡∏ò‡∏µ:**

- ‡πÉ‡∏ä‡πâ Google DoH (`https://dns.google/resolve`)
- ‡πÄ‡∏ä‡πá‡∏Ñ‡∏à‡∏≤‡∏Å Next.js Edge Runtime

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

- ‚ùå ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ - ‡πÄ‡∏ä‡πá‡∏Ñ‡∏à‡∏≤‡∏Å Google DNS ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà ISP DNS ‡∏à‡∏£‡∏¥‡∏á
- ‚ùå ‡πÅ‡∏™‡∏î‡∏á ACTIVE ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏°‡πâ domain ‡∏ñ‡∏π‡∏Å‡∏ö‡∏•‡πá‡∏≠‡∏Å‡∏ö‡∏ô ISP

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:**

- ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏ä‡πá‡∏Ñ‡∏à‡∏≤‡∏Å ISP DNS servers ‡∏à‡∏£‡∏¥‡∏á‡πÜ
- Google DNS ‡πÑ‡∏°‡πà‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏•‡πá‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á ISP ‡πÑ‡∏ó‡∏¢

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: UDP DNS Query ‡∏à‡∏≤‡∏Å Railway (External IP) ‚úÖ ‡∏•‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß ‚ö†Ô∏è ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥

**‡∏ß‡∏¥‡∏ò‡∏µ:**

- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å Edge Runtime ‚Üí Node.js Runtime
- ‡πÉ‡∏ä‡πâ `dgram` + `dns-packet` ‡πÄ‡∏û‡∏∑‡πà‡∏≠ query ISP DNS servers ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
- Query ‡∏à‡∏≤‡∏Å Railway (external IP)

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

- ‚ö†Ô∏è ISP DNS servers (AIS, DTAC, NT) timeout
- ‚ö†Ô∏è ‡πÅ‡∏™‡∏î‡∏á ERROR ‡∏´‡∏£‡∏∑‡∏≠ BLOCKED ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏°‡πâ domain ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:**

- ISP DNS servers ‡πÑ‡∏°‡πà‡∏ï‡∏≠‡∏ö external queries
- ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏¢‡∏Å‡πÅ‡∏¢‡∏∞ "blocked" vs "DNS server restriction"

**Code:**

```typescript
// app/api/check/route.ts
// ‡πÉ‡∏ä‡πâ dgram + dns-packet ‡πÄ‡∏û‡∏∑‡πà‡∏≠ query ISP DNS servers
const socket = dgram.createSocket('udp4');
socket.send(query, 53, dnsServer, ...);
```

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 3: HTTP Fallback Check ‚úÖ ‡∏•‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß ‚ùå ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ (‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß)

**‡∏ß‡∏¥‡∏ò‡∏µ:**

- ‡πÄ‡∏°‡∏∑‡πà‡∏≠ DNS timeout ‚Üí ‡πÄ‡∏ä‡πá‡∏Ñ HTTP access
- ‡∏ñ‡πâ‡∏≤ HTTP ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ ‚Üí ‡πÅ‡∏™‡∏î‡∏á ACTIVE

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

- ‚ùå ‡πÅ‡∏™‡∏î‡∏á ACTIVE ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (false positive)
- Domain ‡∏≠‡∏≤‡∏à‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å external IP ‡πÅ‡∏ï‡πà‡∏ñ‡∏π‡∏Å‡∏ö‡∏•‡πá‡∏≠‡∏Å‡∏ö‡∏ô ISP network

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:**

- HTTP check ‡∏à‡∏≤‡∏Å external IP ‡πÑ‡∏°‡πà‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏•‡πá‡∏≠‡∏Å‡∏à‡∏£‡∏¥‡∏á
- ‡πÉ‡∏´‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ú‡∏¥‡∏î (‡πÅ‡∏™‡∏î‡∏á ACTIVE ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î)

**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:** ‚ùå ‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß (commit: `bf2d72b`)

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 4: Treat Timeout as BLOCKED ‚úÖ ‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô ‚ö†Ô∏è ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ 100%

**‡∏ß‡∏¥‡∏ò‡∏µ:**

- ‡πÄ‡∏°‡∏∑‡πà‡∏≠ DNS timeout ‚Üí ‡πÅ‡∏™‡∏î‡∏á BLOCKED
- ‡πÄ‡∏û‡∏¥‡πà‡∏° note ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

- ‚ö†Ô∏è ‡πÅ‡∏™‡∏î‡∏á BLOCKED ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠ timeout
- ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏¢‡∏Å‡πÅ‡∏¢‡∏∞ "blocked" vs "DNS server restriction"

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:**

- ‡∏≠‡∏≤‡∏à‡πÅ‡∏™‡∏î‡∏á BLOCKED ‡πÅ‡∏°‡πâ domain ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á (‡∏ñ‡πâ‡∏≤ DNS server ‡πÑ‡∏°‡πà‡∏ï‡∏≠‡∏ö external queries)

**Code:**

```typescript
// app/api/check/route.ts (‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô)
if (isTimeout && isp_name !== 'Global (Google)') {
  return NextResponse.json({
    status: 'BLOCKED',
    note: '‚ö†Ô∏è ISP DNS server did not respond...'
  });
}
```

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 5: DNS Resolver Service ‡∏ö‡∏ô VPS (Singapore) üìù ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ß‡πâ ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡∏≠‡∏á

**‡∏ß‡∏¥‡∏ò‡∏µ:**

- Deploy `dns-resolver-service.js` ‡∏ö‡∏ô VPS ‡πÉ‡∏ô Singapore
- Railway ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å VPS ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ä‡πá‡∏Ñ DNS

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á:**

- ‚úÖ ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ External IP (Railway) ‡∏°‡∏≤‡∏Å
- ‚ö†Ô∏è ‡∏≠‡∏≤‡∏à‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ 100% (VPS ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢ ISP ‡πÑ‡∏ó‡∏¢)

**‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î:**

- VPS ‡πÉ‡∏ô Singapore ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢ ISP ‡πÑ‡∏ó‡∏¢
- ISP DNS servers ‡∏≠‡∏≤‡∏à‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ï‡∏≠‡∏ö queries ‡∏à‡∏≤‡∏Å VPS

**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:** üìù ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡πâ‡∏ß (`dns-resolver-service.js`, `VPS_SETUP_GUIDE.md`)

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 6: VPS ‡∏ö‡∏ô ISP Network (‡πÑ‡∏ó‡∏¢) üí° ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡∏≠‡∏á

**‡∏ß‡∏¥‡∏ò‡∏µ:**

- Deploy DNS Resolver Service ‡∏ö‡∏ô VPS ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢ ISP ‡πÑ‡∏ó‡∏¢
- VPS AIS ‚Üí ‡πÄ‡∏ä‡πá‡∏Ñ AIS
- VPS DTAC ‚Üí ‡πÄ‡∏ä‡πá‡∏Ñ DTAC
- VPS TRUE ‚Üí ‡πÄ‡∏ä‡πá‡∏Ñ TRUE
- VPS NT ‚Üí ‡πÄ‡∏ä‡πá‡∏Ñ NT

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á:**

- ‚úÖ ‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ 100%

**‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢:**

- Cost ‡∏™‡∏π‡∏á (~$10-24/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô)
- ‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏≤ VPS provider ‡∏ó‡∏µ‡πà‡∏°‡∏µ datacenter ‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢

**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:** üí° ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡∏≠‡∏á

---

## üìä ‡∏™‡∏£‡∏∏‡∏õ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö

| ‡∏ß‡∏¥‡∏ò‡∏µ | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ | ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ | Cost | ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå |
|------|-------|------------|------|---------|
| **1. Google DoH** | ‚ùå ‡∏•‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß | 0% | ‡∏ü‡∏£‡∏µ | ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ |
| **2. UDP ‡∏à‡∏≤‡∏Å Railway** | ‚ö†Ô∏è ‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà | 30-50% | ‡∏ü‡∏£‡∏µ | Timeout ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î |
| **3. HTTP Fallback** | ‚ùå ‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß | 0% | ‡∏ü‡∏£‡∏µ | False positive |
| **4. Timeout = BLOCKED** | ‚ö†Ô∏è ‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà | 30-50% | ‡∏ü‡∏£‡∏µ | BLOCKED ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î |
| **5. VPS Singapore** | üìù ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ß‡πâ | 70-90% | $2.50-6/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô | ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡∏≠‡∏á |
| **6. VPS ISP ‡πÑ‡∏ó‡∏¢** | üí° ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ | 100% | $10-24/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô | ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡∏≠‡∏á |

---

## üéØ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà (Production)

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 4: Treat Timeout as BLOCKED**

- ‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô Railway
- ‡πÅ‡∏™‡∏î‡∏á BLOCKED ‡πÄ‡∏°‡∏∑‡πà‡∏≠ DNS timeout
- ‡∏°‡∏µ note ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

- AIS: BLOCKED (timeout)
- DTAC: BLOCKED (timeout)
- NT: BLOCKED (timeout)
- TRUE: ACTIVE (‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏î‡πâ)

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:**

- ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ - ‡∏≠‡∏≤‡∏à‡πÅ‡∏™‡∏î‡∏á BLOCKED ‡πÅ‡∏°‡πâ domain ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á

---

## üöÄ Next Steps

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

1. **‡∏•‡∏≠‡∏á‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 5: VPS Singapore**
   - Deploy `dns-resolver-service.js` ‡∏ö‡∏ô VPS
   - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥
   - Cost ‡∏ï‡πà‡∏≥ ($2.50-6/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô)

2. **‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏û‡∏≠ ‚Üí ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 6: VPS ISP ‡πÑ‡∏ó‡∏¢**
   - ‡∏´‡∏≤ VPS provider ‡∏ó‡∏µ‡πà‡∏°‡∏µ datacenter ‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢
   - Deploy ‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏° ISP
   - Cost ‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô (~$10-24/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô)

---

## üìù ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á

- `app/api/check/route.ts` - API endpoint ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
- `dns-resolver-service.js` - Service ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö VPS
- `VPS_SETUP_GUIDE.md` - ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ VPS
- `DNS_ACCURACY_EXPLANATION.md` - ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥
- `DNS_CHECKING_LIMITATIONS.md` - ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î

---

## üí° ‡∏™‡∏£‡∏∏‡∏õ

**‡∏•‡∏≠‡∏á‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß:**

1. ‚úÖ Google DoH - ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥
2. ‚úÖ UDP ‡∏à‡∏≤‡∏Å Railway - ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ (timeout)
3. ‚úÖ HTTP Fallback - ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ (‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß)
4. ‚ö†Ô∏è Timeout = BLOCKED - ‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà (‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ 100%)

**‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡∏≠‡∏á:**
5. üìù VPS Singapore - ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡πâ‡∏ß
6. üí° VPS ISP ‡πÑ‡∏ó‡∏¢ - ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ 100%
